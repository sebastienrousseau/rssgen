<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`macro_metadata_option` Macro"><title>macro_metadata_option in rss_gen - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-49344e4802b2d48a.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="rss_gen" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0-nightly (52fd99839 2024-10-10)" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-f070b9041d14864c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="icon" href="https://kura.pro/rssgen/images/favicon.ico"></head><body class="rustdoc macro"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../rss_gen/index.html"><img src="https://kura.pro/rssgen/images/logos/rssgen.svg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../rss_gen/index.html"><img src="https://kura.pro/rssgen/images/logos/rssgen.svg" alt="logo"></a><h2><a href="../rss_gen/index.html">rss_gen</a><span class="version">0.0.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">macro_<wbr>metadata_<wbr>option</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#macro_metadata_option-macro" title="`macro_metadata_option` Macro"><code>macro_metadata_option</code> Macro</a><ul><li><a href="#usage" title="Usage">Usage</a></li><li><a href="#arguments" title="Arguments">Arguments</a></li><li><a href="#behaviour" title="Behaviour">Behaviour</a></li></ul></li><li><a href="#example" title="Example">Example</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate rss_<wbr>gen</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="index.html">rss_gen</a></span><h1>Macro <span class="macro">macro_metadata_option</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/rss_gen/macros.rs.html#279-283">source</a> </span></div><pre class="rust item-decl"><span class="macro">macro_rules!</span> macro_metadata_option {
    (<span class="macro-nonterminal">$metadata</span>:ident, <span class="macro-nonterminal">$key</span>:expr) =&gt; { ... };
}</pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="macro_metadata_option-macro"><a class="doc-anchor" href="#macro_metadata_option-macro">§</a><code>macro_metadata_option</code> Macro</h2>
<p>Extracts an option value from metadata.</p>
<h3 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h3>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::collections::HashMap;
<span class="kw">use </span>rss_gen::macro_metadata_option;

<span class="kw">let </span><span class="kw-2">mut </span>metadata = HashMap::new();
metadata.insert(<span class="string">"key"</span>, <span class="string">"value"</span>);
<span class="kw">let </span>value = <span class="macro">macro_metadata_option!</span>(metadata, <span class="string">"key"</span>);
<span class="macro">println!</span>(<span class="string">"{}"</span>, value);</code></pre></div>
<h3 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h3>
<ul>
<li><code>$metadata</code> - A mutable variable that represents the metadata (of type <code>HashMap&lt;String, String&gt;</code> or any other type that supports the <code>get</code> and <code>cloned</code> methods).</li>
<li><code>$key</code> - A string literal that represents the key to search for in the metadata.</li>
</ul>
<h3 id="behaviour"><a class="doc-anchor" href="#behaviour">§</a>Behaviour</h3>
<p>The <code>macro_metadata_option</code> macro is used to extract an option value from metadata. It takes a mutable variable representing the metadata and a string literal representing the key as arguments, and uses the <code>get</code> method of the metadata to find an option value with the specified key.</p>
<p>If the key exists in the metadata, the macro clones the value and returns it. If the key does not exist, it returns the default value for the type of the metadata values.</p>
<p>The macro is typically used in contexts where metadata is stored in a data structure that supports the <code>get</code> and <code>cloned</code> methods, such as a <code>HashMap&lt;String, String&gt;</code>.</p>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::collections::HashMap;
<span class="kw">use </span>rss_gen::macro_metadata_option;

<span class="kw">let </span><span class="kw-2">mut </span>metadata = HashMap::new();
metadata.insert(<span class="string">"key"</span>.to_string(), <span class="string">"value"</span>.to_string());
<span class="kw">let </span>value = <span class="macro">macro_metadata_option!</span>(metadata, <span class="string">"key"</span>);
<span class="macro">assert_eq!</span>(value, <span class="string">"value"</span>);</code></pre></div>
</div></details></section></div></main></body></html>